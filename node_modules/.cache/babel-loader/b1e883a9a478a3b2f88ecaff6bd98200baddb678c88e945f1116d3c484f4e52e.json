{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mrmst\\\\OneDrive\\\\Documentos\\\\Front End\\\\ClusterWarehouse\\\\src\\\\Components\\\\Consultar.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect, useCallback } from 'react';\nimport './Consultar.css';\nimport { Html5Qrcode, Html5QrcodeSupportedFormats } from 'html5-qrcode';\nimport { API_ENDPOINTS } from '../config';\n\n// Configurações do scanner\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst qrConfig = {\n  fps: 10,\n  qrbox: {\n    width: 250,\n    height: 250\n  },\n  disableFlip: false,\n  experimentalFeatures: {\n    useBarCodeDetectorIfSupported: true\n  },\n  formatsToSupport: [Html5QrcodeSupportedFormats.QR_CODE, Html5QrcodeSupportedFormats.CODE_128, Html5QrcodeSupportedFormats.EAN_13]\n};\nfunction Consultar() {\n  _s();\n  const [isMounted, setIsMounted] = useState(true);\n  const [consulta, setConsulta] = useState('');\n  const [resultado, setResultado] = useState(null);\n  const [carregando, setCarregando] = useState(false);\n  const [mostrarCamera, setMostrarCamera] = useState(false);\n  const [erroCamera, setErroCamera] = useState('');\n  const [cameraAtiva, setCameraAtiva] = useState(false);\n  const html5QrCodeRef = useRef(null);\n  const iniciandoCameraRef = useRef(false);\n  const parandoCameraRef = useRef(false);\n\n  // Função para buscar produto\n  const buscarProduto = async codigo => {\n    try {\n      setCarregando(true);\n      // Implemente a lógica de busca do produto aqui\n      console.log('Buscando produto com código:', codigo);\n      // Exemplo de chamada à API:\n      // const response = await fetch(`${API_ENDPOINTS.produtos}/${codigo}`);\n      // const data = await response.json();\n      // setResultado(data);\n    } catch (error) {\n      console.error('Erro ao buscar produto:', error);\n      setErroCamera('Erro ao buscar produto. Tente novamente.');\n    } finally {\n      setCarregando(false);\n    }\n  };\n\n  // Efeito para gerenciar o ciclo de vida do componente\n  useEffect(() => {\n    setIsMounted(true);\n\n    // Função de limpeza quando o componente for desmontado\n    return () => {\n      console.log('Componente será desmontado, limpando recursos...');\n      setIsMounted(false);\n\n      // Limpa a câmera imediatamente\n      if (html5QrCodeRef.current) {\n        html5QrCodeRef.current.stop().catch(() => {});\n        html5QrCodeRef.current = null;\n      }\n    };\n  }, []);\n  const handleChange = e => {\n    setConsulta(e.target.value);\n  };\n  const limparScanner = useCallback(() => {\n    const scannerElement = document.getElementById('scanner');\n    if (scannerElement) {\n      while (scannerElement.firstChild) {\n        scannerElement.removeChild(scannerElement.firstChild);\n      }\n    }\n  }, []);\n  const pararCamera = useCallback(async (forcar = false) => {\n    if (parandoCameraRef.current && !forcar) return;\n    try {\n      parandoCameraRef.current = true;\n      if (html5QrCodeRef.current) {\n        try {\n          await html5QrCodeRef.current.stop();\n          console.log('Scanner parado com sucesso');\n        } catch (err) {\n          var _err$message;\n          if (!((_err$message = err.message) !== null && _err$message !== void 0 && _err$message.includes('Scanner is not running'))) {\n            console.warn('Erro ao parar scanner:', err);\n          }\n        } finally {\n          html5QrCodeRef.current = null;\n        }\n      }\n      if (isMounted) {\n        setCameraAtiva(false);\n        setMostrarCamera(false);\n      }\n    } catch (error) {\n      console.error('Erro ao parar câmera:', error);\n    } finally {\n      parandoCameraRef.current = false;\n    }\n  }, [isMounted]);\n  const iniciarCamera = useCallback(async () => {\n    if (iniciandoCameraRef.current || parandoCameraRef.current) {\n      console.log('Operação de câmera em andamento, aguarde...');\n      return;\n    }\n    try {\n      iniciandoCameraRef.current = true;\n      setErroCamera('Iniciando câmera...');\n      setMostrarCamera(true);\n\n      // Limpa qualquer instância anterior\n      if (html5QrCodeRef.current) {\n        await pararCamera();\n      }\n\n      // Pequeno atraso para garantir que o DOM foi atualizado\n      await new Promise(resolve => setTimeout(resolve, 100));\n\n      // Limpa o scanner\n      limparScanner();\n\n      // Cria o container do scanner\n      const scannerElement = document.getElementById('scanner');\n      if (!scannerElement) {\n        throw new Error('Elemento do scanner não encontrado');\n      }\n      const scannerContainer = document.createElement('div');\n      scannerContainer.id = 'scanner-container';\n      scannerContainer.style.width = '100%';\n      scannerContainer.style.height = '100%';\n      scannerContainer.style.minHeight = '300px';\n      scannerElement.appendChild(scannerContainer);\n\n      // Cria nova instância do scanner\n      const html5QrCode = new Html5Qrcode('scanner-container');\n\n      // Função de sucesso\n      const onScanSuccess = decodedText => {\n        console.log('Código lido:', decodedText);\n        if (isMounted) {\n          setConsulta(decodedText);\n          buscarProduto(decodedText);\n          pararCamera();\n        }\n      };\n\n      // Função para lidar com erros do scanner\n      const onScanError = errorMessage => {\n        // Ignora mensagens comuns\n        if (!errorMessage.includes('No QR code found') && !errorMessage.includes('No MultiFormat Readers')) {\n          console.warn('Aviso do scanner:', errorMessage);\n        }\n      };\n\n      // Tenta iniciar a câmera traseira primeiro\n      try {\n        await html5QrCode.start({\n          facingMode: 'environment'\n        }, qrConfig, onScanSuccess, onScanError);\n\n        // Se chegou aqui, a câmera foi iniciada com sucesso\n        html5QrCodeRef.current = html5QrCode;\n        if (isMounted) {\n          setCameraAtiva(true);\n          setErroCamera('Aponte para o código QR');\n        }\n      } catch (err) {\n        console.warn('Falha ao iniciar câmera traseira, tentando frontal...', err);\n\n        // Tenta com a câmera frontal\n        try {\n          await html5QrCode.start({\n            facingMode: 'user'\n          }, qrConfig, onScanSuccess, onScanError);\n          html5QrCodeRef.current = html5QrCode;\n          if (isMounted) {\n            setCameraAtiva(true);\n            setErroCamera('Aponte para o código QR (Câmera frontal)');\n          }\n        } catch (frontError) {\n          console.error('Falha ao iniciar câmera frontal:', frontError);\n          throw new Error('Não foi possível acessar nenhuma câmera');\n        }\n      }\n    } catch (error) {\n      console.error('Erro ao iniciar câmera:', error);\n      if (isMounted) {\n        setErroCamera(error.message.includes('permission') ? 'Permissão de câmera negada. Por favor, verifique as configurações do seu navegador.' : `Erro ao acessar a câmera: ${error.message || 'Tente novamente'}`);\n        setMostrarCamera(false);\n      }\n\n      // Limpa recursos em caso de erro\n      if (html5QrCodeRef.current) {\n        try {\n          await html5QrCodeRef.current.stop();\n        } catch (e) {\n          console.warn('Erro ao limpar scanner após falha:', e);\n        }\n        html5QrCodeRef.current = null;\n      }\n    } finally {\n      if (isMounted) {\n        iniciandoCameraRef.current = false;\n      }\n    }\n  }, [isMounted, limparScanner, pararCamera]);\n\n  // Função para alternar a câmera\n  const alternarCamera = async () => {\n    if (cameraAtiva) {\n      await pararCamera();\n      await iniciarCamera();\n    }\n  };\n\n  // Renderização do componente\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"consultar-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Consultar Produto\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: consulta,\n        onChange: handleChange,\n        placeholder: \"Digite o c\\xF3digo ou escaneie o QR Code\",\n        className: \"form-control\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: cameraAtiva ? pararCamera : iniciarCamera,\n        className: `btn ${cameraAtiva ? 'btn-danger' : 'btn-primary'}`,\n        disabled: iniciandoCameraRef.current || parandoCameraRef.current,\n        children: cameraAtiva ? 'Parar Câmera' : 'Escanear QR Code'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 7\n    }, this), erroCamera && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-warning mt-3\",\n      children: erroCamera\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"scanner\",\n      className: `scanner-container ${mostrarCamera ? 'active' : ''}`,\n      children: mostrarCamera && !cameraAtiva && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"scanner-loading\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner-border text-primary\",\n          role: \"status\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"visually-hidden\",\n            children: \"Carregando c\\xE2mera...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Preparando a c\\xE2mera...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 7\n    }, this), carregando && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center mt-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner-border text-primary\",\n        role: \"status\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"visually-hidden\",\n          children: \"Carregando...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Buscando informa\\xE7\\xF5es do produto...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 9\n    }, this), resultado && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"resultado-consulta mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Resultado da Consulta\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n        children: JSON.stringify(resultado, null, 2)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 248,\n    columnNumber: 5\n  }, this);\n}\n_s(Consultar, \"k3o3nT16cT49hWdMhGImxs16Ips=\");\n_c = Consultar;\nexport default Consultar;\nvar _c;\n$RefreshReg$(_c, \"Consultar\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useCallback","Html5Qrcode","Html5QrcodeSupportedFormats","API_ENDPOINTS","jsxDEV","_jsxDEV","qrConfig","fps","qrbox","width","height","disableFlip","experimentalFeatures","useBarCodeDetectorIfSupported","formatsToSupport","QR_CODE","CODE_128","EAN_13","Consultar","_s","isMounted","setIsMounted","consulta","setConsulta","resultado","setResultado","carregando","setCarregando","mostrarCamera","setMostrarCamera","erroCamera","setErroCamera","cameraAtiva","setCameraAtiva","html5QrCodeRef","iniciandoCameraRef","parandoCameraRef","buscarProduto","codigo","console","log","error","current","stop","catch","handleChange","e","target","value","limparScanner","scannerElement","document","getElementById","firstChild","removeChild","pararCamera","forcar","err","_err$message","message","includes","warn","iniciarCamera","Promise","resolve","setTimeout","Error","scannerContainer","createElement","id","style","minHeight","appendChild","html5QrCode","onScanSuccess","decodedText","onScanError","errorMessage","start","facingMode","frontError","alternarCamera","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","placeholder","onClick","disabled","role","JSON","stringify","_c","$RefreshReg$"],"sources":["C:/Users/mrmst/OneDrive/Documentos/Front End/ClusterWarehouse/src/Components/Consultar.js"],"sourcesContent":["import React, { useState, useRef, useEffect, useCallback } from 'react';\nimport './Consultar.css';\nimport { Html5Qrcode, Html5QrcodeSupportedFormats } from 'html5-qrcode';\nimport { API_ENDPOINTS } from '../config';\n\n// Configurações do scanner\nconst qrConfig = {\n  fps: 10,\n  qrbox: { width: 250, height: 250 },\n  disableFlip: false,\n  experimentalFeatures: {\n    useBarCodeDetectorIfSupported: true\n  },\n  formatsToSupport: [\n    Html5QrcodeSupportedFormats.QR_CODE,\n    Html5QrcodeSupportedFormats.CODE_128,\n    Html5QrcodeSupportedFormats.EAN_13\n  ]\n};\n\nfunction Consultar() {\n  const [isMounted, setIsMounted] = useState(true);\n  const [consulta, setConsulta] = useState('');\n  const [resultado, setResultado] = useState(null);\n  const [carregando, setCarregando] = useState(false);\n  const [mostrarCamera, setMostrarCamera] = useState(false);\n  const [erroCamera, setErroCamera] = useState('');\n  const [cameraAtiva, setCameraAtiva] = useState(false);\n  \n  const html5QrCodeRef = useRef(null);\n  const iniciandoCameraRef = useRef(false);\n  const parandoCameraRef = useRef(false);\n\n  // Função para buscar produto\n  const buscarProduto = async (codigo) => {\n    try {\n      setCarregando(true);\n      // Implemente a lógica de busca do produto aqui\n      console.log('Buscando produto com código:', codigo);\n      // Exemplo de chamada à API:\n      // const response = await fetch(`${API_ENDPOINTS.produtos}/${codigo}`);\n      // const data = await response.json();\n      // setResultado(data);\n    } catch (error) {\n      console.error('Erro ao buscar produto:', error);\n      setErroCamera('Erro ao buscar produto. Tente novamente.');\n    } finally {\n      setCarregando(false);\n    }\n  };\n\n  // Efeito para gerenciar o ciclo de vida do componente\n  useEffect(() => {\n    setIsMounted(true);\n    \n    // Função de limpeza quando o componente for desmontado\n    return () => {\n      console.log('Componente será desmontado, limpando recursos...');\n      setIsMounted(false);\n      \n      // Limpa a câmera imediatamente\n      if (html5QrCodeRef.current) {\n        html5QrCodeRef.current.stop().catch(() => {});\n        html5QrCodeRef.current = null;\n      }\n    };\n  }, []);\n\n  const handleChange = (e) => {\n    setConsulta(e.target.value);\n  };\n\n  const limparScanner = useCallback(() => {\n    const scannerElement = document.getElementById('scanner');\n    if (scannerElement) {\n      while (scannerElement.firstChild) {\n        scannerElement.removeChild(scannerElement.firstChild);\n      }\n    }\n  }, []);\n\n  const pararCamera = useCallback(async (forcar = false) => {\n    if (parandoCameraRef.current && !forcar) return;\n    \n    try {\n      parandoCameraRef.current = true;\n      \n      if (html5QrCodeRef.current) {\n        try {\n          await html5QrCodeRef.current.stop();\n          console.log('Scanner parado com sucesso');\n        } catch (err) {\n          if (!err.message?.includes('Scanner is not running')) {\n            console.warn('Erro ao parar scanner:', err);\n          }\n        } finally {\n          html5QrCodeRef.current = null;\n        }\n      }\n      \n      if (isMounted) {\n        setCameraAtiva(false);\n        setMostrarCamera(false);\n      }\n    } catch (error) {\n      console.error('Erro ao parar câmera:', error);\n    } finally {\n      parandoCameraRef.current = false;\n    }\n  }, [isMounted]);\n\n  const iniciarCamera = useCallback(async () => {\n    if (iniciandoCameraRef.current || parandoCameraRef.current) {\n      console.log('Operação de câmera em andamento, aguarde...');\n      return;\n    }\n    \n    try {\n      iniciandoCameraRef.current = true;\n      setErroCamera('Iniciando câmera...');\n      setMostrarCamera(true);\n      \n      // Limpa qualquer instância anterior\n      if (html5QrCodeRef.current) {\n        await pararCamera();\n      }\n      \n      // Pequeno atraso para garantir que o DOM foi atualizado\n      await new Promise(resolve => setTimeout(resolve, 100));\n      \n      // Limpa o scanner\n      limparScanner();\n      \n      // Cria o container do scanner\n      const scannerElement = document.getElementById('scanner');\n      if (!scannerElement) {\n        throw new Error('Elemento do scanner não encontrado');\n      }\n      \n      const scannerContainer = document.createElement('div');\n      scannerContainer.id = 'scanner-container';\n      scannerContainer.style.width = '100%';\n      scannerContainer.style.height = '100%';\n      scannerContainer.style.minHeight = '300px';\n      scannerElement.appendChild(scannerContainer);\n      \n      // Cria nova instância do scanner\n      const html5QrCode = new Html5Qrcode('scanner-container');\n      \n      // Função de sucesso\n      const onScanSuccess = (decodedText) => {\n        console.log('Código lido:', decodedText);\n        if (isMounted) {\n          setConsulta(decodedText);\n          buscarProduto(decodedText);\n          pararCamera();\n        }\n      };\n      \n      // Função para lidar com erros do scanner\n      const onScanError = (errorMessage) => {\n        // Ignora mensagens comuns\n        if (!errorMessage.includes('No QR code found') && \n            !errorMessage.includes('No MultiFormat Readers')) {\n          console.warn('Aviso do scanner:', errorMessage);\n        }\n      };\n      \n      // Tenta iniciar a câmera traseira primeiro\n      try {\n        await html5QrCode.start(\n          { facingMode: 'environment' },\n          qrConfig,\n          onScanSuccess,\n          onScanError\n        );\n        \n        // Se chegou aqui, a câmera foi iniciada com sucesso\n        html5QrCodeRef.current = html5QrCode;\n        if (isMounted) {\n          setCameraAtiva(true);\n          setErroCamera('Aponte para o código QR');\n        }\n        \n      } catch (err) {\n        console.warn('Falha ao iniciar câmera traseira, tentando frontal...', err);\n        \n        // Tenta com a câmera frontal\n        try {\n          await html5QrCode.start(\n            { facingMode: 'user' },\n            qrConfig,\n            onScanSuccess,\n            onScanError\n          );\n          \n          html5QrCodeRef.current = html5QrCode;\n          if (isMounted) {\n            setCameraAtiva(true);\n            setErroCamera('Aponte para o código QR (Câmera frontal)');\n          }\n          \n        } catch (frontError) {\n          console.error('Falha ao iniciar câmera frontal:', frontError);\n          throw new Error('Não foi possível acessar nenhuma câmera');\n        }\n      }\n      \n    } catch (error) {\n      console.error('Erro ao iniciar câmera:', error);\n      \n      if (isMounted) {\n        setErroCamera(\n          error.message.includes('permission') ? \n          'Permissão de câmera negada. Por favor, verifique as configurações do seu navegador.' :\n          `Erro ao acessar a câmera: ${error.message || 'Tente novamente'}`\n        );\n        setMostrarCamera(false);\n      }\n      \n      // Limpa recursos em caso de erro\n      if (html5QrCodeRef.current) {\n        try {\n          await html5QrCodeRef.current.stop();\n        } catch (e) {\n          console.warn('Erro ao limpar scanner após falha:', e);\n        }\n        html5QrCodeRef.current = null;\n      }\n      \n    } finally {\n      if (isMounted) {\n        iniciandoCameraRef.current = false;\n      }\n    }\n  }, [isMounted, limparScanner, pararCamera]);\n\n  // Função para alternar a câmera\n  const alternarCamera = async () => {\n    if (cameraAtiva) {\n      await pararCamera();\n      await iniciarCamera();\n    }\n  };\n\n  // Renderização do componente\n  return (\n    <div className=\"consultar-container\">\n      <h1>Consultar Produto</h1>\n      \n      <div className=\"input-group\">\n        <input\n          type=\"text\"\n          value={consulta}\n          onChange={handleChange}\n          placeholder=\"Digite o código ou escaneie o QR Code\"\n          className=\"form-control\"\n        />\n        <button \n          onClick={cameraAtiva ? pararCamera : iniciarCamera}\n          className={`btn ${cameraAtiva ? 'btn-danger' : 'btn-primary'}`}\n          disabled={iniciandoCameraRef.current || parandoCameraRef.current}\n        >\n          {cameraAtiva ? 'Parar Câmera' : 'Escanear QR Code'}\n        </button>\n      </div>\n\n      {erroCamera && (\n        <div className=\"alert alert-warning mt-3\">\n          {erroCamera}\n        </div>\n      )}\n\n      <div id=\"scanner\" className={`scanner-container ${mostrarCamera ? 'active' : ''}`}>\n        {mostrarCamera && !cameraAtiva && (\n          <div className=\"scanner-loading\">\n            <div className=\"spinner-border text-primary\" role=\"status\">\n              <span className=\"visually-hidden\">Carregando câmera...</span>\n            </div>\n            <p>Preparando a câmera...</p>\n          </div>\n        )}\n      </div>\n\n      {carregando && (\n        <div className=\"text-center mt-3\">\n          <div className=\"spinner-border text-primary\" role=\"status\">\n            <span className=\"visually-hidden\">Carregando...</span>\n          </div>\n          <p>Buscando informações do produto...</p>\n        </div>\n      )}\n\n      {resultado && (\n        <div className=\"resultado-consulta mt-4\">\n          <h3>Resultado da Consulta</h3>\n          <pre>{JSON.stringify(resultado, null, 2)}</pre>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default Consultar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}